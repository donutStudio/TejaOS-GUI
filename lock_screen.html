<!DOCTYPE html>
<html lang="en" manifest="cache.manifest">

<head>
    <link rel="stylesheet" href="styles.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="manifest.json">
    <title>TejaOS</title>

    <style>
                html {
            background-color: black;
        }
        body {
            margin: 0;
            overflow-y: auto;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
            /* Prevent horizontal scrolling */
        }

        #background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('assets/wallpaper.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: -1;
            /* Makes sure the background stays behind the content */
            filter: blur(0px);
            /* Set blur here if needed */
        }

        /* Pseudo-element to create a blur effect on the background */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: inherit;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            /* Optional: for fallback */
            z-index: -1;
        }

        /* The class that applies the blur effect */
        .blur-background::before {
            filter: blur(5px);
            /* Adjust blur intensity here */
        }
    </style>
</head>

<body>
    <!-- Fixed background container -->
    <div id="background"></div>

    <div id="navbar" style="z-index: 1000;">
        <a id="time" class="time" style="font-family: LightFont; margin-top: 0.3vh; font-size: 14px;">11:30</a>
        <img src="assets/wifi_PNG62364.png" class="navbar-icon">
        <img src="assets/output-onlinepngtools.png" class="navbar-icon" style="width: 20px; height: 20px; margin-left: 5px;">
        <img src="assets/output-onlinepngtools1.png" class="navbar-icon" style="width: 20px; height: 20px;">
        <div id="battery" class="battery-container">
            <div id="battery-bar" class="battery-bar"></div>
            <span id="battery-percentage" style="font-family: LightFont;">100%</span>
        </div>
    </div>

    <div class="section" id="lock_screen">
        <h1 class="front glow time" style="text-align: center; color: white; font-family: Noto Sans; font-weight: 500; font-size: 70px; margin-bottom: 570px;" id="time">11:30</h1>
        <h1 class="front glow date" style="text-align: center; color: white; font-family: Noto Sans; font-weight: 400; font-size: 24px; margin-bottom: 420px;" id="date">Wednesday, November 6th</h1>
    </div>

    <div class="section" id="home_screen">
        <div class="app-container">
            <div class="app" style="background-image: url('assets/unnamed.webp'); height: 75px; width: 75px;" onclick="openBrawlStars()"></div>
            <span class="app-label" style="margin-top: 0.12vh;">Brawl Stars</span>
        </div>        
        <div class="app-container">
            <div class="app" style="background-image: url('assets/youtube-app-icon.webp');" onclick="openYouTube()"></div>
            <span class="app-label">YouTube</span>
        </div>
        <div class="app-container">
            <div class="app" style="background-image: url('assets/spotify-music-2015-07-30.avif');" onclick="openSpotify()"></div>
            <span class="app-label">Spotify</span>
        </div>
        <div class="app-container">
            <div class="app" style="background-image: url('assets/builtIn/camera.png');" onclick="openCamera()"></div>
            <span class="app-label">Camera</span>
        </div>
        <div class="app-container">
            <div class="app" style="background-image: url('assets/builtIn/messages.png');" onclick="openMessages()"></div>
            <span class="app-label">Messages</span>
        </div>
        <div class="app-container">
            <div class="app" style="background-image: url('assets/builtIn/settings.png');" onclick="openSettings()"></div>
            <span class="app-label">Settings</span>
        </div>
        <div class="app-container">
            <div class="app" style="background-image: url('assets/builtIn/calculator.png');" onclick="openCalculator()"></div>
            <span class="app-label">Calculator</span>
        </div>
    </div>

    <script src="time.js"></script>
    <script src="reset.js"></script>
    <script src="battery.js"></script>
    <script src="lockscreen.js"></script>
    <script src="openApps.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
  // Retrieve the scroll position stored in localStorage
  const scrollPosition = JSON.parse(localStorage.getItem('scrollPosition'));

  if (scrollPosition) {
    // Wait for the page to be fully rendered, then scroll to the bottom
    setTimeout(() => {
      window.scrollTo(scrollPosition.x, scrollPosition.y); // Scroll to the bottom
      localStorage.removeItem('scrollPosition'); // Clear scroll position from localStorage
    }, 100); // Small delay to ensure all content is loaded
  }
});


    </script>

    <div id="bottom" style="height: 1px;"></div>
</body>

</html>